INFO: 
*******
This script MAY help you. You *should* have run "npx react-native doctor"
and fixed the issues first. This may help you with issues there if you can't figure out why doctor is failing.

BUT DO NOT try to run-android without BOTH "doctor" and this script reporting success.

Note that "WARN:" does not mean "Error", it means "be sure this is correct."

All output from this script will be logged to reactnative-fixup.txt
***********


INFO: Script is current version. [643]
INFO: Found npm. [662]
FATAL: JAVA_HOME is not defined. Set it in your environment. [671]
INFO: If needed, download and install JDK

     20.0.2

from

     https://jdk.java.net/archive/

and make sure it is in your path, and that JAVA_HOME is set in environment variables. [672]
INFO: java is in your path. [691]
INFO: Detected version "20.0.2" of Java. [714]
INFO: Java version is correct. [718]
FATAL: ANDROID_HOME and ANDROID_SDK_ROOT are not defined. Set at least one in your environment. [746]
INFO: This may indicate you haven't downloaded the ANDROID SDK yet. [747]
INFO: Download the Android SDK from https://developer.android.com/studio [748]
INFO: brew exists. [805]
INFO: Project is git-controlled. [823]
INFO: We are in an NPM project. [833]
INFO: We are really in a React-native project. [841]
INFO: Confirmed: this is a CLI project. [852]
INFO: Confirmed: this is not an expo rebuild/exported project. [863]
INFO: Found cocoapods. [875]
INFO: Xcode has been selected. [893]
INFO: Found watchman. [908]
INFO: Found ios-deploy. [923]
INFO: Found adb. [934]
INFO: keytool is in path. [945]
WARN: Emulator not found. Did you intend to install it? [959]
INFO: bundletool destination folder of /Users/justin/Library/ exists. [970]
FATAL: Current version of bundletool.jar does not exist. Please specify the correct path to it. [976]
INFO: The current (known) version is bundletool-all-1.15.6.jar [977]
INFO: Download it from https://github.com/google/bundletool [978]
INFO: And copy it to /Users/justin/Library/ [979]
INFO: Checking [newest published] npm package versions... [984]
WARN: Expecting version ^6.6.4 of @react-navigation/drawer but found ^6.6.6 [992]
WARN: Expecting version ^6.1.8 of @react-navigation/native but found ^6.1.9 [992]
WARN: Expecting version ^6.9.14 of @react-navigation/native-stack but found ^6.9.17 [992]
WARN: Expecting version ^6.3.18 of @react-navigation/stack but found ^6.3.20 [992]
WARN: Expecting version ^2.13.2 of react-native-gesture-handler but found ^2.13.4 [992]
WARN: Expecting version ^4.7.2 of react-native-safe-area-context but found ^4.7.4 [992]
WARN: Expecting version ^3.25.0 of react-native-screens but found ^3.27.0 [992]
INFO: (Tell BJM or write an issue against this script on GitHub) [999]
INFO: ...Done checking npm package versions. [1001]
FATAL: Environment var JAVA_VERSION must be set to 20.0.2 (probably in ~/.zshrc) [1052]
INFO: Skipping add_kotlin_version_to_build_gradle ('modification' filtered out; previous test failure) [1330]
INFO: Skipping add_signing_config_to_app_build_gradle ('modification' filtered out; previous test failure) [1330]
INFO: Skipping add_keys_to_gradle_properties ('modification' filtered out; previous test failure) [1330]
INFO: Skipping modify_gradle_properties ('modification' filtered out; previous test failure) [1330]
INFO: Skipping modify_gradle_wrapper_distribution_url ('modification' filtered out; previous test failure) [1330]
INFO: Skipping add_gradle_java_home ('modification' filtered out; previous test failure) [1330]
INFO: Skipping add_universal_json_file ('modification' filtered out; previous test failure) [1330]
INFO: Skipping remove_tsx_and_create_app_js ('modification' filtered out; previous test failure) [1330]
INFO: Skipping modify_package_json_dependencies ('modification' filtered out; previous test failure) [1330]
INFO: Skipping create_assets_config ('modification' filtered out; previous test failure) [1330]
INFO: Skipping create_keystore ('modification' filtered out; previous test failure) [1330]
INFO: Skipping create_prettierrc ('modification' filtered out; previous test failure) [1330]
INFO: Be sure to:


$ npm install
$ npx react-native-asset

[Then...]
*sigh*
[to run on simulator or connected device]

$ npx react-native run-android

[to build an APK]

$ npx react-native-asset

$ cd android && ./gradlew build && ./gradlew bundleRelease
$ java -jar "/Users/justin/Library/bundletool-all-1.15.6.jar" build-apks --bundle=app/build/outputs/bundle/release/app-release.aab --output=app/build/outputs/apk/release/app-release.apks --mode=universal --ks=../android/app/my-release-key.jks --ks-pass=pass:12345678 --ks-key-alias=my-key-alias --key-pass=pass:12345678

$ java -jar "/Users/justin/Library/bundletool-all-1.15.6.jar" extract-apks --apks=app/build/outputs/apk/release/app-release.apks --output-dir=app/build/outputs/apk/release/ --device-spec=../android/universal.json

[to build on Mac for IOS]

*Before* your first build (or after you install a new NPM package) you must:

$ sudo gem update cocoapods --pre
$ npx pod-install
$ cd ios && pod update && cd ..



*** (1.3.1) Message type counts: 4 fatal, 8 warn, 0 error, 41 info
